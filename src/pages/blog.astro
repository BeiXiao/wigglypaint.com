---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import { useTranslations } from '../i18n/utils';

// 英文版本博客页面 (默认语言)
const lang = 'en';
const t = useTranslations(lang);

// SEO 数据 - 优化长度
const title = 'WigglyPaint Blog - Drawing Tutorials & Digital Art Tips';
const description = 'Learn animated drawing techniques, pixel art tutorials, and digital art tips. Discover creative ideas for making amazing GIFs and artwork with WigglyPaint.';

// 我们实际的文章列表
const blogPosts = [
  {
    title: 'Getting Started with Animated Drawing: 5 Essential Techniques',
    excerpt: 'Learn the fundamentals of animated drawing with these 5 core techniques that will transform your static artwork into dynamic creations.',
    category: 'Drawing Tutorials',
    date: '2025-01-25',
    readTime: '8 min read',
    image: 'https://cdn.wigglypaint.com/gallery/e9fd2a32-2de6-4ed5-9675-e2cbc23619da.gif',
    url: '/blog/getting-started-animated-drawing',
    featured: true
  },
  {
    title: 'Pixel Art Animation Guide: Create Living Characters',
    excerpt: 'Transform static pixel art into animated characters with this step-by-step guide. Learn sprite animation techniques for game development.',
    category: 'Pixel Art',
    date: '2025-01-24',
    readTime: '10 min read',
    image: 'https://cdn.wigglypaint.com/gallery/4b1b2dc8-6ab4-4e66-9538-a5588bc8d650.gif',
    url: '/blog/pixel-art-animation-guide',
    featured: true
  },
  {
    title: '10 Creative Prompts to Beat Drawing Block',
    excerpt: 'Struggling with creative block? Try these 10 drawing prompts designed specifically for animated art. Get inspired and start creating again!',
    category: 'Creative Tips',
    date: '2025-01-22',
    readTime: '6 min read',
    image: 'https://cdn.wigglypaint.com/gallery/e8345571-14c5-487a-8832-ac9a507dcac0.gif',
    url: '/blog/creative-block-solutions',
    featured: false
  }
];

// 特色文章
const featuredPosts = blogPosts.filter(post => post.featured);

// 为了避免构建错误，使用现有的 blogPosts 作为 allPosts
const allPosts = blogPosts;

// 博客分类
const blogCategories = [
  {
    id: 'drawing-tutorials',
    name: 'Drawing Tutorials',
    description: 'Step-by-step guides for mastering animated drawing techniques',
    posts: blogPosts.filter(post => post.category === 'Drawing Tutorials')
  }
];
---

<Layout title={title} description={description} lang={lang}>
    <Navigation lang={lang} currentPage="blog" />

    <div class="main-container">
        <!-- Hero Section -->
        <div class="blog-hero">
            <div class="window">
                <div class="title-bar">
                    <h1 class="title">{t('blog.title')}</h1>
                </div>
                <div class="separator"></div>
                <div class="window-pane hero-content">
                    <h2>Learn, Create, and Master Animated Art</h2>
                    <p>Discover expert tips, step-by-step tutorials, and creative inspiration for making amazing animated drawings and pixel art.</p>
                </div>
            </div>
        </div>

        <!-- Featured Posts Section -->
        <div class="featured-section">
            <div class="window">
                <div class="title-bar">
                    <h2 class="title">Featured Articles</h2>
                </div>
                <div class="separator"></div>
                <div class="window-pane featured-content">
                    <div class="featured-grid">
                        {featuredPosts.map(post => (
                            <article class="featured-card">
                                <div class="featured-image">
                                    <img src={post.image} alt={post.title} />
                                </div>
                                <div class="featured-content">
                                    <div class="post-meta">
                                        <span class="category-tag">{post.category}</span>
                                        <span class="post-date">{new Date(post.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
                                        <span class="read-time">{post.readTime}</span>
                                    </div>
                                    <h3><a href={post.url}>{post.title}</a></h3>
                                    <p>{post.excerpt}</p>
                                </div>
                            </article>
                        ))}
                    </div>
                </div>
            </div>
        </div>

        <!-- Latest Articles Section -->
        <div class="latest-articles-section">
            <div class="window">
                <div class="title-bar">
                    <h2 class="title">All Articles</h2>
                </div>
                <div class="separator"></div>
                <div class="window-pane latest-content">
                    <div class="articles-list">
                        {blogPosts.map(post => (
                            <article class="article-item">
                                <div class="article-image">
                                    <img src={post.image} alt={post.title} />
                                </div>
                                <div class="article-details">
                                    <div class="article-meta">
                                        <span class="category-tag">{post.category}</span>
                                        <span class="post-date">{new Date(post.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</span>
                                        <span class="read-time">{post.readTime}</span>
                                    </div>
                                    <h3><a href={post.url}>{post.title}</a></h3>
                                    <p>{post.excerpt}</p>
                                </div>
                            </article>
                        ))}
                    </div>
                </div>
            </div>
        </div>

        <!-- Newsletter Section -->
        <div class="newsletter-section">
            <div class="window">
                <div class="title-bar">
                    <h2 class="title">Stay Creative</h2>
                </div>
                <div class="separator"></div>
                <div class="window-pane newsletter-content">
                    <h3>Get Drawing Tips Delivered</h3>
                    <p>Join our weekly newsletter for the latest tutorials, creative prompts, and WigglyPaint updates.</p>
                    <div class="newsletter-form">
                        <input type="email" placeholder="Enter your email" class="newsletter-input" />
                        <button class="newsletter-btn">Subscribe</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</Layout>

<style>
    .blog-hero {
        margin: 24px 0;
    }

    .hero-content {
        padding: 40px 30px;
        text-align: center;
    }

    .hero-content h2 {
        font-size: 32px;
        font-weight: bold;
        margin: 0 0 15px 0;
        color: #333;
    }

    .hero-content p {
        font-size: 18px;
        line-height: 1.6;
        color: #666;
        max-width: 600px;
        margin: 0 auto;
    }

    .featured-section {
        margin: 32px 0;
    }

    .featured-content {
        padding: 30px;
    }

    .featured-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
    }

    .featured-card {
        border: 2px solid #ddd;
        border-radius: 12px;
        overflow: hidden;
        transition: transform 0.2s ease, border-color 0.2s ease;
    }

    .featured-card:hover {
        transform: translateY(-2px);
        border-color: #999;
    }

    .featured-image {
        width: 100%;
        height: 200px;
        overflow: hidden;
    }

    .featured-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .featured-content {
        padding: 20px;
    }

    .latest-posts-section {
        margin: 32px 0;
    }

    .latest-content {
        padding: 30px;
    }

    .posts-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
    }

    .post-card {
        border: 2px solid #ddd;
        border-radius: 12px;
        overflow: hidden;
        transition: transform 0.2s ease, border-color 0.2s ease;
    }

    .post-card:hover {
        transform: translateY(-2px);
        border-color: #999;
    }

    .post-image {
        width: 100%;
        height: 150px;
        overflow: hidden;
    }

    .post-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .post-content {
        padding: 20px;
    }

    .post-meta {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 12px;
        font-size: 12px;
        color: #666;
        flex-wrap: wrap;
    }

    .category-tag {
        background: #f0f0f0;
        padding: 3px 8px;
        border-radius: 4px;
        font-weight: bold;
        color: #333;
    }

    .post-date {
        color: #888;
    }

    .read-time {
        color: #888;
    }

    .post-content h3 {
        margin: 0 0 12px 0;
        font-size: 16px;
        line-height: 1.3;
    }

    .post-content h3 a {
        color: #333;
        text-decoration: none;
        font-weight: bold;
    }

    .post-content h3 a:hover {
        text-decoration: underline;
    }

    .post-content p {
        margin: 0;
        font-size: 14px;
        line-height: 1.5;
        color: #666;
    }

    .categories-section {
        margin: 32px 0;
    }

    .categories-content {
        padding: 30px;
    }

    .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }

    .category-card {
        border: 2px solid #ddd;
        border-radius: 12px;
        padding: 25px;
        text-align: center;
        transition: border-color 0.2s ease;
    }

    .category-card:hover {
        border-color: #999;
    }

    .category-card h3 {
        margin: 0 0 10px 0;
        font-size: 18px;
        color: #333;
    }

    .category-card p {
        margin: 0 0 15px 0;
        font-size: 14px;
        color: #666;
        line-height: 1.5;
    }

    .category-count {
        font-size: 12px;
        color: #888;
        margin-bottom: 15px;
    }

    .category-link {
        color: #0066cc;
        text-decoration: none;
        font-size: 14px;
        font-weight: bold;
    }

    .category-link:hover {
        text-decoration: underline;
    }

    .newsletter-section {
        margin: 32px 0;
    }

    .newsletter-content {
        padding: 40px 30px;
        text-align: center;
    }

    .newsletter-content h3 {
        font-size: 24px;
        font-weight: bold;
        margin: 0 0 10px 0;
        color: #333;
    }

    .newsletter-content p {
        font-size: 16px;
        color: #666;
        margin: 0 0 25px 0;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
    }

    .newsletter-form {
        display: flex;
        gap: 10px;
        max-width: 400px;
        margin: 0 auto;
    }

    .newsletter-input {
        flex: 1;
        padding: 10px 15px;
        border: 2px solid #ddd;
        border-radius: 0;
        font-size: 14px;
        font-family: inherit;
    }

    .newsletter-btn {
        padding: 10px 20px;
        background: #333;
        color: white;
        border: none;
        border-radius: 0;
        font-size: 14px;
        font-weight: bold;
        cursor: pointer;
        font-family: inherit;
    }

    .newsletter-btn:hover {
        background: #555;
    }

    .latest-articles-section {
        margin: 32px 0;
    }

    .latest-content {
        padding: 30px;
    }

    .articles-list {
        display: flex;
        flex-direction: column;
        gap: 25px;
    }

    .article-item {
        display: flex;
        gap: 20px;
        border: 2px solid #ddd;
        border-radius: 12px;
        overflow: hidden;
        transition: border-color 0.2s ease;
    }

    .article-item:hover {
        border-color: #999;
    }

    .article-image {
        flex-shrink: 0;
        width: 200px;
        height: 150px;
        overflow: hidden;
    }

    .article-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .article-details {
        flex: 1;
        padding: 20px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .article-meta {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 12px;
        font-size: 12px;
        color: #666;
        flex-wrap: wrap;
    }

    .article-details h3 {
        margin: 0 0 10px 0;
        font-size: 18px;
        line-height: 1.3;
    }

    .article-details h3 a {
        color: #333;
        text-decoration: none;
        font-weight: bold;
    }

    .article-details h3 a:hover {
        text-decoration: underline;
    }

    .article-details p {
        margin: 0;
        font-size: 14px;
        line-height: 1.5;
        color: #666;
    }

    @media (max-width: 768px) {
        .hero-content h2 {
            font-size: 24px;
        }

        .hero-content p {
            font-size: 16px;
        }

        .featured-grid,
        .posts-grid,
        .categories-grid {
            grid-template-columns: 1fr;
        }

        .newsletter-form {
            flex-direction: column;
        }

        .featured-content,
        .latest-content {
            padding: 20px;
        }

        .article-item {
            flex-direction: column;
        }

        .article-image {
            width: 100%;
            height: 200px;
        }
    }
</style>